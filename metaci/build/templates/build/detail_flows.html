{% extends 'build/detail_layout.html' %}

{% block tab_content %}
{% for flow in flows %}
<div class="slds-box slds-m-bottom--large">
  <a name="flow-{{ flow.flow }}"></a>
  <h3 class="slds-text-heading--large slds-m-bottom--medium">
    {{ flow.flow }}
  </h3>

  <table class="slds-table slds-table--bordered slds-table--cell-buffer">
    <thead>
      <tr class="slds-text-title--caps">
        <th scope="col">
          <div class="slds-truncate" title="Num">#</div>
        </th>
        <th scope="col">
          <div class="slds-truncate" title="Name">Name</div>
        </th>
        <th scope="col">
            <div class="slds-truncate" title="Time Start">Time Start</div>
        </th>
        <th scope="col">
            <div class="slds-truncate" title="Time End">Time End</div>
        </th>
        <th scope="col">
            <div class="slds-truncate" title="Result">Result</div>
        </th>
      </tr>
    </thead>
    <tbody>
      {% for task in flow.tasks.all %}
        <tr>
          <th data-label="Step Number">
                <div class="slds-truncate" title="{{ task.stepnum }}">{{ task.stepnum }}</div>
          </th>
          <td data-label="Task Name">
            <div class="slds-truncate" title="{{ task.name }}">{{ task.name }}</div>
          </td>
          <td data-label="Time Start">
              <div class="slds-truncate" title="{{ task.time_start }}">{{ task.time_start|time:"f:s"  }}</div>
          </td>
          <td data-label="Time End">
              <div class="slds-truncate" title="{{ task.time_end }}">{{ task.time_end|time:"f:s" }}</div>
          </td> 
          <td data-label="Result">
              <div class="slds-truncate" >{{ task.result }}</div>
          </td>
        </tr>
      {% endfor %}
    </tbody>
    </table>

    <div class="slds-box">
        {% autoescape off %}
        {{ flow.get_log_html }}
        {% endautoescape %}
      </div>
{% endfor %}
{% endblock %}
